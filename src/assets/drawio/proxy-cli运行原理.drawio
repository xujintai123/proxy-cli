<mxfile host="app.diagrams.net" modified="2024-04-22T15:09:32.918Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36" etag="VFhK8blNaNZqSrRgfzXE" version="24.2.5" type="device">
  <diagram name="第 1 页" id="xczYeHNZSxlHrv_gVHCJ">
    <mxGraphModel dx="2699" dy="2312" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" parent="1" source="gQF7yeY1uraWaTsp3Mpk-1" target="gQF7yeY1uraWaTsp3Mpk-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-11" value="发送请求到 connect&amp;nbsp;server" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=18;" parent="gQF7yeY1uraWaTsp3Mpk-8" vertex="1" connectable="0">
          <mxGeometry x="0.0862" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-1" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;用户在页面切换代理地址&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="475" y="-70" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="Y7yJcwfli3bN2VZSAXZT-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="gQF7yeY1uraWaTsp3Mpk-2" target="gQF7yeY1uraWaTsp3Mpk-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-2" value="模块中的私有变量proxyData" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="-80" y="-140" width="210" height="75" as="geometry" />
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=18;fontColor=#000000;" parent="1" source="gQF7yeY1uraWaTsp3Mpk-6" target="gQF7yeY1uraWaTsp3Mpk-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-37" value="修改代理地址" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=18;fontColor=#000000;" parent="gQF7yeY1uraWaTsp3Mpk-36" vertex="1" connectable="0">
          <mxGeometry x="0.0878" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-6" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;connect&amp;nbsp;server&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="490" y="330" width="170" height="75" as="geometry" />
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=18;" parent="1" source="gQF7yeY1uraWaTsp3Mpk-18" target="gQF7yeY1uraWaTsp3Mpk-14" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-570" y="270" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-42" value="转发到 middle server" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=18;fontColor=#000000;" parent="gQF7yeY1uraWaTsp3Mpk-15" vertex="1" connectable="0">
          <mxGeometry x="-0.1812" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Y7yJcwfli3bN2VZSAXZT-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="gQF7yeY1uraWaTsp3Mpk-14" target="gQF7yeY1uraWaTsp3Mpk-56">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Y7yJcwfli3bN2VZSAXZT-4" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;借助&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;font-size: 16px; text-wrap: wrap; background-color: rgb(251, 251, 251);&quot;&gt;http-proxy-middleware 转发&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=16;" vertex="1" connectable="0" parent="Y7yJcwfli3bN2VZSAXZT-3">
          <mxGeometry x="0.0184" y="1" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-14" value="middle server" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="-690.94" y="330" width="176.25" height="82.5" as="geometry" />
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-18" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;页面发起 ajax 请求&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-700" y="120" width="194.38" height="80" as="geometry" />
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;fontColor=#000000;" parent="1" source="gQF7yeY1uraWaTsp3Mpk-22" target="gQF7yeY1uraWaTsp3Mpk-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-22" value="webpack dev server 启动（代理到&amp;nbsp;&lt;span style=&quot;text-wrap: nowrap;&quot;&gt;middle server&lt;/span&gt;）" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=#ffffff;fontSize=18;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-707.81" y="-70" width="210" height="105" as="geometry" />
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-39" value="Api SeverA" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#ffffff;fontSize=18;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-270" y="-490" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-41" value="Api SeverB" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#ffffff;fontSize=18;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="140" y="-490" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="Y7yJcwfli3bN2VZSAXZT-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="gQF7yeY1uraWaTsp3Mpk-56" target="gQF7yeY1uraWaTsp3Mpk-2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Y7yJcwfli3bN2VZSAXZT-2" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;每次请求时通过 http-proxy-middle 暴露的&lt;/span&gt;&lt;br style=&quot;font-size: 18px; border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;router 方法获取最新的 proxyData，&lt;/span&gt;&lt;br style=&quot;font-size: 18px; border-color: var(--border-color);&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;并将请求转发到 proxyData&lt;/span&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="Y7yJcwfli3bN2VZSAXZT-1">
          <mxGeometry x="-0.0252" y="-6" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-56" value="http-proxy-middleware" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="-75" y="336.25" width="200" height="70" as="geometry" />
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-60" value="&lt;font style=&quot;font-size: 36px;&quot;&gt;Api Servers&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;labelBackgroundColor=#ffffff;fontSize=18;fontColor=#000000;strokeWidth=2;strokeColor=default;perimeterSpacing=0;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-320" y="-600" width="690" height="250" as="geometry" />
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-63" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=36;fontColor=#000000;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-735" y="-110" as="sourcePoint" />
            <mxPoint x="-455" y="-110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-65" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=36;fontColor=#000000;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-735" y="450" as="sourcePoint" />
            <mxPoint x="-735" y="-110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-66" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=36;fontColor=#000000;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-455" y="450" as="sourcePoint" />
            <mxPoint x="-455" y="-110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-67" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;rounded=0;fontSize=36;fontColor=#000000;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-735" y="450" as="sourcePoint" />
            <mxPoint x="-455" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-69" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;此部分在项目启动后不会发生变化&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=36;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="-800" y="-240" width="380" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gQF7yeY1uraWaTsp3Mpk-70" value="" style="endArrow=classic;html=1;rounded=0;fontSize=24;fontColor=#000000;" parent="1" source="gQF7yeY1uraWaTsp3Mpk-69" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-415" y="-160" as="sourcePoint" />
            <mxPoint x="-645" y="-90" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
